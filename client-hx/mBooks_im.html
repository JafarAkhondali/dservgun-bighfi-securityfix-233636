<!DOCTYPE html>
<html>
<head>

	<!-- META -->
<title>SBR Realtime Support</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content="HTML KickStart is a ultraâ€“lean set of HTML5, CSS, and jQuery (javascript) files, layouts, and elements designed to give you a headstart and save you a lot of hours on your next web project." />
<meta name="copyright" content="Joshua Gatcke 99lime.com All Rights Reserved" />
<link rel="stylesheet" type="text/css" href="css/kickstart.css" media="all" />                  <!-- KICKSTART -->
<link rel="stylesheet" type="text/css" href="style.css" media="all" />                          <!-- CUSTOM STYLES -->
<!-- <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
 --><script type="text/javascript" src="js/kickstart.js"></script>                                  <!-- KICKSTART -->
<style>
		body {
		  font: 15px sans-serif;
		}
		.bar rect {
		  fill: steelblue;
		  shape-rendering: crispEdges;
		}
		.bar text {
		  fill: #fff;
		}
		.axis path, .axis line {
		  fill: none;
		  stroke: #000;
		  shape-rendering: crispEdges;
		}
</style>

</head>
<body>

	<h3 align="center"> R2 Online (Beta)</h3>
		


	<div class="grid flex" class="callout clearfix">
		<div class="col_12" style="margin-top:10px;">
			<h4 class="center"><p><i class="fa fa-fire"></i>
				</p id="support_title">Query/manage pbdR scripts</h4>

		</div>
		<div class="col_4">
		<form class="vertical">
			<div id="nickNameDiv" class="col_12">
				<label for="nickName">Enter email to login or signup</label>
				<input id="nickName" type="text" tabIndex="1"/>
			</div>
			<div id="passwordDiv" class="col_12" style="display:none">
				<!-- Placeholder Text -->
				<label for="password">Password</label>
				<input id="password" type="password" placeholder="" 
					   tabIndex="2"
						/>
			</div>
			<div id="firstNameDiv" class="col_12" style="display:none">
				<label for="firstName" >First Name</label>
				<input id="firstName" type="text" />
			</div>
			<div id="lastNameDiv" class="col_12" style="display:none">
			<label for="lastName">Last Name </label>
			<input id="lastName" type="text"/>
			</div>
 			<div id="registerDiv" class="col12" style="display:none">
				<label for="registerInput"> Register </label>
				<input id="registerInput" type="text"/>
			</div>			
			<div id="statusMessageDiv" class="col_12" style="display:none">
				<h4 id="statusMessage">Welcome back!</h4>
			</div>	
		</form>

		</div>
	</div>
	<div class="col_4" class="callout clearfix">
		<label for="companyList"> Company </label>
		<select id="companyList">
			<option value="0">-- Choose </option>
		</select>
		<img id="companySplash" height="200"/>

	</div>
	<!-- Naming conventions: tabs are suffixes and without the tabs is the details -->
	<ul id ="workbench" class="tabs col_12">
	<li id="workbench-oauth-tab"><a href="#workbench-oauth"> User oauths </a></li>
	<li id="workbench-messaging-tab"><a href="#workbench-messaging">Messaging</a></li>
	<li id ="workbench-general-tab"><a href="#workbench-general">General Info </a></li>
	<li id = "workbench-company-tab"><a href="#workbench-company">Manage company</a></li>
	<li id = "workbench-project-tab"><a href="#workbench-project">Manage projects</a></li>
	<li id = "workbench-ccar-tab"><a href="#workbench-ccar">Manage CCAR</a></li>
    <li id ="workbench-security-tab"><a href="#workbench-security"> Security notes </a> </li>
    <li id ="workbench-portfolio-tab"><a href="#workbench-portfolio"> Portfolio analysis </a> </li>
    <li id="user-entitlements-tab"><a href="#user-entitlements"> Entitlements (admin only) </a> </li>
    <li id="manage-entitlements-tab"><a href="#manage-entitlements"> Manage entitlements </a> </li>
    <li id="workbench-errors-tab"> <a href="#workbench-errors"> Errors </a> </li>
    <li id="workbench-companyusers-tab"> <a href="#workbench-companyusers"> Assign users to a company </a> </li>
	</ul>

	<div id="workbench-messaging" class="tab-content col_12">
			<div class="col_12">
				<div class="col_2">
					<label for="usersOnline">Users Online</label>
					<select id="usersOnline" multiple="multiple" class="fancy" style="width:180px;height:400px" >
					<option value="0">-- Users online --</option>
					</select>
				</div>
				<div class="col_10">
				<div class="col_12">
					<label for="messageHistory">Conv</label>
					<textarea id="messageHistory" rows="20" style="width:800px; height:400px"></textarea>
				</div>			

				<div class="col_12">
						<label for="messageInput">Chat</label>
						<input id="messageInput" style="width:800px;fontSize=large"></input>
				</div>
				<div class="col_12" id ="kickUserDiv">
						<label for="kickUser">Kick User</label>
						<input id="kickUser" style="width:400px"></input>

				</div>
				</div>
			</div>
	</div>

	<div id="workbench-portfolio" class="tab-content col_12">
		<p align="center">
			Add symbols to a portfolio. Each portfolio lists
			a set of symbols, direction and size. 
			Allow users to perform symbol analysis from list of available
			analysis snippets available to the user.
		</p>
		<form class="vertical" id="portfolio">
			<div class="col_4">
				<label for="portfolioList"> Portfolios </label>
				<select id="portfolioList">
					<option value="0">-- Choose </option>
				</select>

				<label for="portfolioSummary"> Summary</label>
				<textarea id="portfolioSummary"> </textarea>
				<button id="savePortfolio"> Save Portfolio</button>
				<button id="updatePortfolio"> Update Portfolio </button>
				<button id="deletePortfolio"> Delete Portfolio </button>

			</div>
		</form>
		<form class="vertical" id="symbol">
			<div class="col_8">
				<label for="symbolID"> Symbol </label>
				<input id="symbolID" type="text" placeholder="teva"/>
				<label for="symbolSideID"> Side </label>
				<select id="symbolSideID">
					<option value="0">--Select Side (buy/sell)</option>
				</select>
				<label for="symbolTypeID"> 
						Symbol type (asset class - Equity, Bonds, Options) 
				</label>
				<select id="symbolTypeID"> 
					<option value="0"> --Select Symbol Type : Equity, Bonds</option>
				</select>
				<label for="symbolQuantityID"> Quantity </label>
				<input id="symbolQuantityID" type="text" placeholder="100"/>
				<blockquote class="small">
				<p> Upload a symbol file in the following format 
				<p> Symbol, SymbolType, Side, Quantity
				<p> In case of duplicate entries, the last value read from top to bottom will be used to update. Invalid symbol type and side will raise errors in the error stream. </p>
				</blockquote>
				<label for="uploadPortfolioFile"> Upload portfolio file here </label>
				<input id="uploadPortfolioFile" type="file" multiple=""></input>
				<button id="uploadPortfolioButton"> Click to upload </button>
				<button id="saveSymbol">Save Symbol </button>
				<button id="deleteSymbol"> Delete Symbol </button>
				<button id="updateSymbol">Update Symbol </button>
			</div>
		</form>
		<div class="col_12">
			<table id="portfolioSymbolTable" cellspacing="0" cellpadding="0">
				<thead>
					<th> Symbol</th>
					<th> Side </th>
					<th> Symbol type </th>
					<th> quantity </th>
					<th> Last updated by you at </th>
				</thead>				
			</table>

			<p> Portfolio analysis </p>
			<p> Symbol analysis </p>
		 </div>
	    </div>
	 </div>


	<div id="workbench-company" class="tab-content col_12">
		<div class="col_12">	
			<form class="vertical" id="companyForm">
				<div class="col_6">
					<!-- Placeholder Text -->
					<label for="companyID">Company Identification Number </label>
					<input id="companyID" type="text" placeholder="Tax id number or some such number" />
					<label for="companyName">Name </label>
					<input id="companyName" type="text" />
					<label for="generalMailbox" >Company General Mailbox</label>
					<input id="generalMailbox" type="text" />
					<label for="companyImage">Splash</label>
					<input id="companyImage" type="file"/>
					<button id="saveCompany"> Save Company</button>

					<!-- Assign the current company to the user logged in. -->
					<!-- Hide the assign company and allow a user to be logged into the source company
						where the source company is an identifier string that is setup in the
						query string for the page.
					 -->
					<button id="assignCompany" style="display:none"> Assign Company </button>
				</div>
			</form>
		</div>
	</div>

   <div id="workbench-ccar" class="tab-content col_12">
                   <form class="vertical" id="scenarioForm">
                           <div class="col_6">
                                   <!-- Placeholder Text -->
                                   <label for="scenarioName">Name </label>
                                   <input id="scenarioName" type="text" />
                                   <label for"scenarioText"> Scenario </label>
                                   <textarea id="scenarioText" rows="20">
                                   </textarea>
                                   <textarea id="parsedScenario" rows="20">
                                   </textarea>
                                   <label for="saveScenario"/>
                                   <button id="saveScenario"> Save Scenario</button>
                           </div>
                   </form>
    </div>

	<div id="workbench-project" class="tab-content col_12">
		<div class="col_6">
			<form class="vertical" id="projectForm">
				<div class="col_6">
					<label for="projectIdentification" class="disabled"> 
						Project Id (system generated)
					</label>
					<input id="projectIdentification" type="text" 
							class="disabled">
					</input>
					<label for="projectStart"> Start date </label>
					<input id="projectStart" type="date" 
							placeholder="Start date">
					<label for="projectEnd"> End date </label>
					<input id="projectEnd" type="date"
							placeholder = "End date"/>					
					<label for="preparedBy"> Prepared by </label>
					<input id="preparedBy" type="text" 
							placeholder="Prepared by (the project manager on the report)"/>

					<label for="projectSummary">Summary </label>
					<textarea id="projectSummary" rows ="5" type = "text">
					</textarea>
					<label for="projectDetails">Details</label>
					<textarea id="projectDetails" rows="20">
					</textarea>
					<button	id="saveProject"> Save Project</button>
				</div>
			</form>
		</div>
		<div class="col_6">
			<form class="vertical" id="projectListForm">
				<div class="col_6">
					<label for="projectList"> Projects (List of all active, published projects) </label>
					<select id="projectList">
						<option value="0"> -- choose </option>
					</select>
				</div>
			</form>
			<ul id ="workbench" class="tabs col_12">
			<li><a href="#project-details">Project details</a></li>
			<li><a href="#project-status">Project results</a></li>
			</ul>

			<form class="vertical">
			<div id="project-details" class="tab-content col_12">
				<label for="projectWorkbenches"> Active Scripts </label>
				<select id="projectWorkbenches">
					<option id="chooseWorkbench" value="0">--Choose</option>
				</select>

				<label for="supportedScriptTypes"> Script Type (blender/r/strata) </label>
				<select id="supportedScriptTypes">
					<option id="chooseSupportedScriptType" value="0">-- Choose </option>
				</select>
				<label for ="numberOfCores"> Number of cores (hint) </label>
				<input id="numberOfCores" type="text"></input>
				<label for ="workbenchId" class="disabled"> Workbench Id </label>
				<input id="workbenchId" type="text" class="disabled"> </input>
				<label for = "scriptSummmary"> Script summary </label>
				<textarea id="scriptSummary" rows="5" placeholder="Summary">
				</textarea>
				<label for = "scriptData"> Script Data (contents) </label>
				<textarea id="scriptData" rows = "30"></textarea>
				<textarea id="scriptResult"> Results </textarea>				
				<label for="uploadScript"> Upload script/data file </label>
				<input id = "uploadScript" type="file"/>
				<button id="insertWorkbench"> Insert workbench </button>
				<button id="updateWorkbench"> Update workbench</button>
				<button id="deleteWorkbench"> Delete Workbench </button>
				<button id="executeScript"> Run Script</button>
				<button id="clearFields"> Clear Fields </button>
			</div>
			</form>

		</div>
		<div id="workbench-security" class="tab-content col_12">
				<div id="usage_stuff" class="callout">
					<h3 align="center">
						What can you do on this site: 
					</h3>
					<ul class="tabs-content">
						<li> Create and save R (using pbdR) scripts to run computations </li>
						<li> Create CCAR scenarios to test risks if you are so inclined </li>
						<li> Realtime graphs  </li>
						<li> Gift/share scripts with other users. </li>
						<li> Share results with other users </li>
						<li> Private conversations with other users if you allow them to </li>
						<li> Create and publish surveys </li>
						<li> Create and manage projects of various kinds including 3d models </li>
						<li> Create a market place for products </li>
						<li> Create bids, trades for products </li>
						<li> Send us feature requsets </li>
						<li> Send us bug requests </li>
						<li> View source </li>
						<li> More to follow or less to offer ...depends on you </li>
					</ul>
					<ul class="tabl-content">
						<p> We plan to integrate the site with Persona to keep your identity safe. The rest of the site will still be secure so your data, and algorithms, scripts are always safe. I am not a big fan of outh/oauth2 as they run the risk of become central stores of personal information, although, if you feel inclined, we do plan on adding support to commonly available oauth providers starting with google and facebook.
						</p>
					</ul>
					<div class="security_status" display:none>
						<p>
							The site is not <strong>secure</strong>. You have been warned.
						</p>
					</div>
				</div>
				
			<div id="project_notes">
				<h4 align="center"> Notes/Instructions </h4>
				<p align="center">
					<ul> 
						<li>You can save all your scripts under your company's user id. </li>
						<li>All your jobs that are run for R will have an id and you can request for a webhook </li>
						<li>If you are uploadinrg larger data sets, let us help you setup your cloud: either AWS.</li>
						<li>Feature requests or bug requests can be entered here (implement href) </li>
						<li>
							Naming conventions need to be fixed: Save => Insert 
							at times or save or updated. In most cases a call to 
							save will do a simple insert. 
							Update will fail if the record is not found.
							Delete should work as expected.
						</li>
					</ul>
				</p>
			</div>
		</div>


		<div id="workbench-errors" class="tab-content col_12">
			<div class="grid flex" class="callout clearfix">
				<div class="col_12" style="margin-top:10px;">
					<h4 class="center"><p><i class="fa fa-fire"></i>
					</p id="support_title">Error Messages</h4>
				</div>
				<label for="applicationError"> Error messages </label>
				<textarea id="applicationError" rows="30" cols="100">
				</textarea>				
			</div>
		</div>

		<div id="manage-entitlements" class="tab-content col_12">
			<h4 align="center"> Manage entitlements (for administrators only) </h4>
			<form class="vertical">
				<label for="entitlementTabName"> Entitlement tab </label>
				<input id="entitlementTabName"></input>
				<label for="entitlementSectionName"> Entitlement section </label>
				<input id="entitlementSectionName"></input>
				<label for"entitlementsList"> Entitlements (features) 
				<select id="entitlementsList"></select>
				<button id="addEntitlement" type="button"> Add entitlement </button>
				<button id="updateEntitlement" type="button"> Update entitlement</button>
				<button id="removeEntitlement" type="button"> Remove entitlement </button>
			</form>
		</div>
		
		<div id="user-entitlements" class="tab-content col_12">
			<h4 align="center"> Manage user entitlements (for administrators only) </h4>
			<form class="vertical">
				<label for="searchUsers"> Search for users </label>
				<input id ="searchUsers"> </input>
				<label for="allCompanyUsersSearchList"> Registered users </label>
				<select id="allCompanyUsersSearchList">
				</select>
				<label for="pendingApprovalRequests"> Requests pending for approval </label>
				<select id="pendingApprovalRequests">					
				</select>
				<label for="availableEntitlements"> Available entitlements</label>
				<select id="availableEntitlements" multiple="multiple"> 
				</select>
				<label for="userEntitlements"> Users entitlements </label>
				<select id="userEntitlements" multiple="multiple">
				</select>
				<button id="addUserEntitlements">Add Entitlements (select the available entitlements) </button>
				<button id="removeUserEntitlements">Remove entitlements (select the userEntitlements)</button>
			</form> 
		</div>
		<div id="workbench-companyusers" class="tab-content col_12">
			<h4 align="center"> Manage users for a company </h4>
			<form class="vertical">
				<label for="assignUserToCompany"> Assign user to the current company </label>
				<select id="assignCompanyUsers" multiple="multiple">
				</select>
			</form>
		</div>
		<div id="workbench-oauth">
			<h4 align="center"> Oauth management </h4>
			<button id="setupGmailOauth" type="button"> Gmail oauth </button>
		</div>
</div>

<div class="haxe:trace"></div>
<script src="js/d3/d3.min.js" charset="utf-8"></script>
<script type="text/javascript" src="mbooks_im.js"></script>

<div class="clear"></div>

<div id="test"/>
<div id="footer">
&copy; Copyright 2014 All Rights Reserved. <a href="mailto:dinkar.ganti@gmail.com">Dinkar Ganti</a>. This site uses the following libraries to keep things simple for the users. Like them, even if you dont like this site!
		<a href="http://www.99lime.com">HTML KickStart</a> . 
		<a href="http://www.yesodweb.com/">Yesod </a>. 
		<a href="http://haxe.org/"> Haxe </a> . 
		<a href="http://d3js.org"> D3 </a> .

</div>

</body>

</html>
